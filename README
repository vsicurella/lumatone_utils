Utilities for dealing with Lumatone files
-----------------------------------------

These are work in progress, and have some --help documentation.

Example: making a magic mapping for 19 steps to an octave
covering what would be a perfect fourth in a Bosanquet mapping:

Take the color scheme from an existing mapping file and make
a new magic mapping using it with 19 steps to an octave
covering what would be a perfect fourth in a Bosanquet mapping:

./extract_scheme.py -t 60 -p 19 mappings/tricolour_c.ltn |
    ./apply_scheme.py -t 60 --gap 19 <(
    ./make_regular.py -t 6 -l 1 -k 8 4 -g 19 --channels 1 1 1 5 5
    ) -o mappings/pengcheng_right.ltn

Similar pattern for left-hand playing:

./extract_scheme.py -t 60 -p 19 mappings/tricolour_c.ltn |
 ./apply_scheme.py -t 60 --gap 19 <(
    ./make_regular.py -t 6 -l 5 -g 19 -k 1 5 -r 41 --channels 1 1 1 6 6
    ) -o mappings/pengcheng_left.ltn

Another one:

./extract_scheme.py -t 60 -p 19 mappings/tricolour_c.ltn |
 ./apply_scheme.py -t 60 --gap 19 <(
    ./make_regular.py -t 6 -l -5 -g 19 -k 3 -2 --channels 1 1 1 4 4
    ) -o mappings/pengcheng_harmonic_table.ltn

Same things with 22 note octaves:

./apply_scheme.py -t 60 --input ./haizhou_tricolour.scheme --gap 22 <(
    ./make_regular.py -t 7 -l 1 -k 7 1 -g 22 --channels 1 1 1 5 5
    ) -o mappings/haizhou_right.ltn

./apply_scheme.py -t 60 --input ./haizhou_tricolour.scheme --gap 22 <(
    ./make_regular.py -t 7 -l 6 -g 22 -k 2 5 --channels 1 1 3 6 6
    ) -o mappings/haizhou_left.ltn

# overflows
./apply_scheme.py -t 60 --input ./haizhou_tricolour.scheme --gap 22 <(
    ./make_regular.py -t 7 -l -6 -g 22 -r 40 --channels 1 1 1 4 4
    ) -o mappings/haizhou_harmonic_table.ltn

Note: the scheme extracted from the xinpu files is unbalanced
